  
  
<img src="https://github.com/farique1/diffusion-browser/blob/main/Images/Logo.png" alt="Diffusion Browser" width="128" height="111">  
  
# Diffusion Browser  
**v2.1**  
An easy way to view images and their embedded metadata generated by **[AUTOMATIC1111 Stable Diffusion web UI](https://github.com/AUTOMATIC1111/stable-diffusion-webui)**.  
  
> Also works with **[InvokeAI](https://github.com/invoke-ai/InvokeAI)** and **[sd-webui](https://github.com/sd-webui/stable-diffusion-webui)** PNGs by embedding the information with the provided converter.  
  
>**Diffusion Browser** uses the **[Pillow](https://pillow.readthedocs.io/en/stable/)** module.  
  
## Main Interface  
![# Interface](https://github.com/farique1/diffusion-browser/blob/main/Images/DiffusionBrowser_main_interface.png)  
(From top left, clockwise):  
  
**1** *Number of images found.*  
  
**2** *Current path.*  
And subfolders.  
Click to copy the current path.  
  
**3** *Refresh button.*  
Refresh new/deleted images in the current path.  
New images will appear at the top of the grid regardless of the date.  
  
**4** *Path button.*  
Change the current path.  
Will not override the default path in the settings.  
  
**5** *Explorer path button.*  
Open the file explorer in the current path.  
  
**6** *Config button.*  
Change Diffusion Browser's settings.  
More below.  
  
**7** *Image preview.*  
Display the currently selected image.  
Click to open a window with the image in full size.  
  
**8** *Information viewer.*  
Display the embedded information along with some extra content.  
Use the mouse wheel to scroll.  
Selected text will be automatically copied to the clipboard.  
The lines are reordered for a better presentation.  
The order can be changed in `parameters.txt`.  
More below.  
  
**9** *Explorer image button.*  
Open the file explorer in the selected image path.  
  
**10** *Search parameters*  
The search can be narrowed to only a single parameter by choosing from this drop box.  
`All parameters` or an empty string will search on the whole text.  
  
**11** *Search box*  
Enter the search string here.  
Return will show only the images matching the search.  
Shift+return will expose the search match.  
  
**12** *Search button*  
Will search the images based on the search box.  
Shift+click/return/space will clear the search without erasing the search box.  
  
**13** *Expose button*  
Will expose the images based on the search box.  
All non-matching images will be grayed out.  
Shift+click/return/space will clear the expose without erasing the search box.  
  
**14** *Browser grid*  
Show all images fond on the current path and subfolders.  
Click to select an image.  
Once clicked use the arrow keys to navigate the grid.  
Double click, return or space opens the full version.  
  
> When loading images, the progress window can be closed at any time to stop the progress keeping all images loaded so far.  
  
## Full sized image view.  
![# Full image](https://github.com/farique1/diffusion-browser/blob/main/Images/DiffusionBrowser_image.png)  
  
The window can be resized and will show the image seed and file name.  
Esc closes the window if selected.  
  
## Configuration  
![# Configuration](https://github.com/farique1/diffusion-browser/blob/main/Images/DiffusionBrowser_config.png)  
  
**The following can be configured:**  
The number of grid columns.  
The number of grid rows.  
Each grid image size.  
The preview image size.  
The height of the buttons (to compensate for font sizes).  
The font name.  
The font size.  
The font weight.  
The Background color.  
The Main color.  
The 1st accent color.  
The 2nd accent color.  
The alert color.  
The default path.  
>*The get font buttons all take to the same font requester.*  
*The current path will be passed as the default path.*  
*The configuration will be saved on an `.ini` file.*  
*If the interface exceeds the screen size a warning will be given.*  
  
## The information viewer.  
The information is gathered from the embedded text in the image files.  
The information window reorders the parameters on a more intuitive way and display further information:  
```yaml  
prompt: infinite jest book cover  
seed: 3547671229  
sampler: Euler a  
steps: 20  
cfg scale: 7  
size: 512x512  
model hash: 7460a6fa  
  
source: automatic1111  
real_size: 512 x 512  
format: png  
created: 05-10-2022 15:32:53  
path: <PATH TO>/<IMAGE>.png  
```  
  
The parameters are listed on the `parameters.txt` file. This list is responsible for the order and highlight of the parameters in the information window.  
A message will be shown if new parameters are discovered on an image. Add these new parameters to `parameters.txt` in the order you want them to appear on the information window.  
The current parameters are:  
```  
embedded info  
prompt  
negative prompt  
seed  
sampler  
sampler_name  
steps  
ddim_steps  
ddim_eta  
cfg scale  
cfg_scale  
cfgscale  
width  
height  
size  
initimg  
strength  
denoising strength  
denoising_strength  
first pass size  
mask blur  
n_iter  
iterations  
batch_size  
batch size  
batch pos  
grid  
batch  
fit  
progress_images  
toggles  
upscale  
model  
visibility  
resize_mode  
gfpgan_strength  
upscale_level  
upscale_strength  
target  
model hash  
clip skip  
  
source  
real_size  
format  
created  
path  
```  
  
## Changes  
- Small interface improvements  
- Better arrow keys navigation  
- Selected image now highlighted on the grid  
- Return/space/double click a grid image opens the full version  
- Esc closes the full image window if selected  
- Search and expose images  
- Do not show grid progress while loading anymore but it's faster  
- Refresh (!) now only updates the new/deleted images.  
- Better configuration handling  
- Resizable font requester and configuration windows  
- Bigger font requester  
- Font preview while browsing  
- The preview text on the font requester can be changed  
- Arrows to change the size on the font requester  
  
## Acknowledgments  
  
**Diffusion Browser** is offered as is, with no guaranties whatsoever, use at your own discretion.  
Enjoy and send feedback.  
Thanks.  
