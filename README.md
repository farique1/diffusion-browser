<img src="https://github.com/farique1/diffusion-browser/blob/master/Images/Logo.png" alt="Diffusion Browser" width="128" height="111">  
  
# Diffusion Browser  
**v1.0**  
For **Stable Diffusion by  [sd-webui](https://github.com/sd-webui)**  
  
An easy way to view images and metadata generated by **Stable Diffusion sd-webui**.    
  
### Main Interface
![# Interface](https://github.com/farique1/diffusion-browser/blob/master/Images/DiffusionBrowser.png)
(From top left, clockwise):  

**1** *Number of images found.*  

**2** *Current path.*  
And subfolders.
Click to copy the current path.

**3** *Path button.*  
Change the current path.

**4** *Explorer path button.*
Open the file explorer in the current path.

**5** *Config button.*
Change the presentation of Diffusion Browser.
More below.

**6** *Image preview.*
Display the currently selected image.
Click to open a full version of the image.
The window can be resized and will show the image seed and file name.

**7** *Yaml preview.*
Display the content of the yaml file associated with the selected image along with some extra information.
Use the mouse wheel to scroll.
Selected text will be automatically copied to the clipboard.
The lines are reordered for a better presentation, the order can be changed on the code.
More below.

**8** *Explorer image button.*
Open the file explorer in the selected image path.

**9** *Browser grid*
Show all images fond on the current path and subfolders.
Click to select an image.

### Full sized image view.
![# Full image](https://github.com/farique1/diffusion-browser/blob/master/Images/DiffusionBrowser_image.png)

### Configuration
![# Configuration](https://github.com/farique1/diffusion-browser/blob/master/Images/DiffusionBrowser_config.png)
 
**The following can be configured:**
The number of grid columns.
The number of grid rows.
Each grid image size.
The preview image size.
The height of the buttons (to compensate for font sizes).
The font name.
The font size.
The font weight.
*-The get font buttons all take to the same font requester*
The Background color.
The Main color.
The 1st accent color.
The 2nd accent color.
The alert color.
The default path.
*-The current path will be used as the default path unles changed.*

The configuration will be saved on an `.ini` file.

### The yaml viewer.
The yaml file has the following structure:
```yaml  
batch_size: 1
cfg_scale: 7.5
ddim_eta: 0
ddim_steps: 50
height: 512
n_iter: 4
prompt: A Calabi-Yau Manifold
sampler_name: k_lms
seed: 348087680
target: txt2img
toggles:
- 1
- 2
- 3
- 4
- 5
width: 512
```  
The yaml viewer window reorder the lines on a more intuitive way and display further information:
```yaml
prompt: A Calabi-Yau Manifold
seed: 348087680
target: txt2img
sampler_name: k_lms
ddim_steps: 50
cfg_scale: 7.5
n_iter: 4
batch_size: 1
ddim_eta: 0
height: 512
width: 512
real_width: 512
real_height: 512
toggles: 
- 1
- 2
- 3
- 4
- 5
path: D:/Stable Diffusion WebUI/stable-diffusion-webui/outputs\txt2img-samples\samples\A_Calabi-Yau_Manifold\00000-50_k_lms_348087680_0.00.png
``` 
Item names can be added for further **webui** yaml versions on the Python code:
```Python
TEXT_TAGS = ['Yaml', 'batch_size:', 'cfg_scale:', 'ddim_eta:', 'ddim_steps:',
             'denoising_strength:', 'height:', 'n_iter:', 'prompt:',
             'resize_mode:', 'sampler_name:', 'seed:', 'target:',
             'toggles:', '-', 'width:', 'real_width:', 'real_height:', 'path']
```
Also, the item order can be changed at:
```Python
INFO_SORT = ['Yaml', 'prompt:', 'seed:', 'target:', 'sampler_name:', 'ddim_steps:', 'cfg_scale:',
             'denoising_strength:', 'n_iter:', 'batch_size:', 'ddim_eta:', 'resize_mode:',
             'height:', 'width:', 'real_width:', 'real_height:', 'toggles:', '-', 'path:']
```
> There is a commented section on the Python code to display the toggle numbers as the names they refer. This is disabled because the toggle numbers associated with each feature are not consistent across different **webiu** versions. 

![# Alternate configuration](https://github.com/farique1/diffusion-browser/blob/master/Images/DiffusionBrowserAlt.jpg)

## Acknowledgments  
  
**Diffusion Browser** is offered as is, with no guaranties whatsoever. Use at your own discretion. Enjoy and send feedback.  
Thanks.  
